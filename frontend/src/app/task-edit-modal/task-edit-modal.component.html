<div class="modal" [class.show]="show">
  <div class="modal-content">
    <div class="modal-header">
      <h2>{{ task.id === 0 ? "Create New Task" : "Edit Task" }}</h2>
      <button class="close-button" (click)="onClose()">&times;</button>
    </div>

    <form (ngSubmit)="onSave()" #taskForm="ngForm">
      <div class="form-group">
        <label for="contactPerson">Contact Person *</label>
        <input
          id="contactPerson"
          name="contactPerson"
          [(ngModel)]="task.contact_person"
          required
          class="form-control"
        />
      </div>

      <div class="form-group">
        <label for="entityName">Entity Name *</label>
        <input
          id="entityName"
          name="entityName"
          [(ngModel)]="task.entity_name"
          required
          class="form-control"
        />
      </div>

      <div class="form-group">
        <label for="taskType">Task Type *</label>
        <input
          id="taskType"
          name="taskType"
          [(ngModel)]="task.task_type"
          required
          class="form-control"
        />
      </div>

      <div class="form-group">
        <label for="status">Status *</label>
        <select
          id="status"
          name="status"
          [(ngModel)]="task.status"
          required
          class="form-control"
        >
          <option value="open">Open</option>
          <option value="closed">Closed</option>
        </select>
      </div>

      <div class="form-group">
        <label for="taskTime">Date *</label>
        <input
          type="datetime-local"
          id="taskTime"
          name="taskTime"
          [(ngModel)]="task.task_time"
          required
          class="form-control"
        />
      </div>

      <div class="form-group">
        <label for="note">Note</label>
        <textarea
          id="note"
          name="note"
          [(ngModel)]="task.note"
          rows="3"
          class="form-control"
        ></textarea>
      </div>

      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="onClose()">
          Cancel
        </button>
        <button
          type="submit"
          class="btn btn-primary"
          [disabled]="!taskForm.form.valid"
        >
          {{ task.id === 0 ? "Create" : "Save" }}
        </button>
      </div>
    </form>
  </div>
</div>
